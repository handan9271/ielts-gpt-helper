
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>GPT é›…æ€åŠ©æ•™ - Render éƒ¨ç½²ç‰ˆ</title>
  <style>
    body { font-family: sans-serif; max-width: 800px; margin: auto; padding: 2rem; }
    textarea, select, button { width: 100%; font-size: 1rem; margin-top: 1rem; }
    textarea { height: 100px; }
    #output { white-space: pre-wrap; background: #f6f6f6; padding: 1rem; border-radius: 6px; margin-top: 1.5rem; }
    .loading { color: gray; font-style: italic; }
  </style>
</head>
<body>
  <h2>ğŸ¯ GPT é›…æ€å†™ä½œä¸å£è¯­åŠ©æ•™ï¼ˆRender ç‰ˆï¼‰</h2>
  <label for="question">é€‰æ‹©é¢˜ç›®ï¼š</label>
  <select id="question">
    <option value="Describe a piece of technology you own that is difficult to use.">Describe a piece of technology you own that is difficult to use.</option>
    <option value="Describe a person you know who often helps others.">Describe a person you know who often helps others.</option>
    <option value="Describe a time you received positive feedback.">Describe a time you received positive feedback.</option>
    <option value="Describe a goal you want to achieve in the future.">Describe a goal you want to achieve in the future.</option>
    <option value="Describe something you did that made you feel proud.">Describe something you did that made you feel proud.</option>
  </select>

  <label for="input">ä½ çš„ä¸­æ–‡æ€è·¯ï¼š</label>
  <textarea id="input" placeholder="è¯·è¾“å…¥ä½ å¯¹é¢˜ç›®çš„ä¸­æ–‡æƒ³æ³•â€¦"></textarea>

  <button onclick="submit()">ğŸ¬ ç”Ÿæˆè‹±æ–‡åé¦ˆ</button>

  <div id="output"></div>

  <script>
    async function submit() {
      const input = document.getElementById('input').value.trim();
      const question = document.getElementById('question').value;
      const output = document.getElementById('output');
      if (!input) {
        output.innerText = "âš ï¸ è¯·è¾“å…¥ä½ çš„ä¸­æ–‡æ€è·¯ã€‚";
        return;
      }
      output.innerHTML = '<span class="loading">â³ æ­£åœ¨ç”Ÿæˆä¸­ï¼Œè¯·ç¨å€™...</span>';
      try {
        const res = await fetch("/api/ielts-helper", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ question, input })
        });
        const data = await res.json();
        output.innerText = data.reply || "âš ï¸ ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•æˆ–æ£€æŸ¥æœåŠ¡çŠ¶æ€ã€‚";
      } catch (e) {
        output.innerText = "âŒ è¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥æœåŠ¡æ˜¯å¦åœ¨çº¿ã€‚";
      }
    }
  </script>
</body>
</html>
